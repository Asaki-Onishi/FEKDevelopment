# tarコマンドとgzipコマンド  
システムパッケージを作ろうと考える中で、おおよそ二つのコマンドに興味を引かれたため、研究に関係なくとも調査してみた。  
  
  ### 経緯    
  監視システムパッケージと後に追加予定？のシステムをFEKに同梱するにあたって、makeコマンドがconfigureが～だの以前に、まずどんな携帯でシステムを管理しているのか、USBメモリに収まるようなサイズにどのようにしているのかということが気になった。  
  PythonやElasticsearchは、Deabinaならばaptやdebパッケージで直接ダウンロードする仕組みが存在するが、当然Windowsのように普通にGUIでダウンロードして解凍・展開する仕組みも存在していた。その拡張子が.tarや.gzであったという話である。.zipや.exeじゃないんか...

  ### tarとgzipについて  
  詳しく書いている人が居ました。簡単な使い方も記載されているため非常にためになった。巨人の方に乗りましょう。  
  もうすでに書いてくれているため、ここでは簡単に補足説明を..  
  
  [「分かりそう」で「分からない」でも「分かった」気になれるIT用語辞典(.tar.gz【拡張子】)](https://wa3.i-3-i.info/word12942.html)  

  - tarコマンド  
  tarコマンドは複数のファイルを一つのファイルに**まとめる**ことが出来るコマンドである。いくつかのオプションがあるが作成にはcvfを使い、展開にはxvfを使えばよい。

  #### 作成例
  > $ tar -cvf test3.tar test1.txt test2.txt  
  > $ ls  
  test1.txt test2.txt **test3.tar**

  二つのテキストファイルtest1とtest2をまとめてtest3.tarというファイルを生成した。まとめたtest1及びtest2ファイルは消失せずに残る。何度でもtarできるね！ファイルを生成するときは、きちんと.tarと拡張子をつけておかないと面倒なことになるので注意。 
  
  #### 展開例 
  > $ tar -xvf test3.tar  
  test1.txt  
  test2.txt

  展開した後もtest3.tarファイルは消失せずに残る。やったね！何回でも展開できるよ！
  > $ tar -tvf test3.tar
  
  ちなみに-xではなく、-tオプションで権限表示だの、時間だの一緒にtest3.tarファイルの中にはこれだけ入ってますよ！ということが分かる。

  - gzipコマンド  
  ファイルを圧縮するコマンド。gzipのgはGNUのG。このコマンドだけでも圧縮解凍が出来るが解凍に特化した**gunzip**コマンドも存在する。ちなみに圧縮・解凍処理は元のファイルは残らず処理したあとのファイルだけとなる。  

  #### 作成例
  > $ gzip test1.txt  
  > $ ls  
  test1.txt.gz  
    
  > $ gzip test3.tar  
  > $ ls  
  test3.tar.gz

  txtファイルとtarファイルで行った際の比較。gzipコマンドを実行したファイルには.**gz**拡張子が付く。tarファイルでまとめてからgzipで圧縮という流れはある種デファクトスタンダードであるため覚えておきたい。ちなみにtarコマンドには-zというオプションがあり、これを利用することでまとめから圧縮まで一気に行ってくれる。その際の拡張子は.**tgz**となることもある。  

  #### 解凍例
  > $ gzip -d test3.tar.gz  
  > $ ls  
  test3.tar

  > $ gunzip test1.txt.gz  
  > $ls  
  > test1.txt

  gunzipコマンドを利用した場合との比較。.gz拡張子がなくなり、tarファイルへと変化した。gunzipコマンドを用いなくとも-dオプションを付けることでgzipコマンドだけで操作が可能だ。なお、tarコマンドの-zオプションを使った圧縮ファイルにもこの解凍方法は利用出来る。
